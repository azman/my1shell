#!/bin/bash

TOOL_NAME=`basename $0`
TOOL_PATH=`dirname $0`
TOOL_PATH=`cd $TOOL_PATH;pwd`

source_lib()
{
	local name=$1
	local full=$TOOL_PATH/$name
	[ ! -f "$full" ] && echo "Cannot find $full!" && exit 1
	. $full
}
source_lib libtoolvideo

TOOL_TASK="$1" ; shift
case "$TOOL_TASK" in
	convert) video_convert $@ ;;
	split-video) video_split_video $@ ;;
	split-audio) video_split_audio $@ ;;
	merge-audio) video_merge_audio $@ ;;
	*) [ "$TOOL_TASK" != "" ] && echo "Unknown task '$TOOL_TASK'!" ;;
esac

exit 0
